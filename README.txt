import financial_db_worker.db_worker as fdbw

# прежде всего создаем инстанс класса-подключения
# если не указывать параметры, то они стандартные
conn = fdbw.FDBWorker()
# создаем пользователя, если требуется, с начальной суммой на счету
conn.create_user('test1', 50000)
# при желании, его можно удалить
conn.user_delete('test1')
# Проверить существование пользователя можно методом ниже
print(conn.user_exist('test1'))

# Для каждой таблички есть свой *Worker, где вместо * имя таблички
# конструктор принимиает созданный инстанс соединения с базой и имя пользователя
cats = fdbw.CategoriesWorker(conn, 'test1')
# каждый класс для таблички имеет метод get_*, где вместо * имя таблички
# это по сути SELECT из базы
# как возвращать определенные столбцы из таблицы и добавлять условия, спрашивай меня
print(cats.get_categories())

ops = fdbw.OperationsWorker(conn, 'test1')
ops.add_operation(total=400, category_id=1)

# get_balance — возвращает строки для таблички баланса
# параметр ids указывает, какие именно строки баланса вернуть (ids — айдишники в базе)
# на самом деле этот параметр мы использовать вряд ли будем,
# сейчас он в качестве заглушки, т.к. база заполнена не полностью
assets = fdbw.AssetsWorker(conn, 'test1')
print(assets.get_balance(ids=[5, 7]))
